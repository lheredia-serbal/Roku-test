<?xml version="1.0" encoding="utf-8" ?>

<component 
  name="SearchScreen" 
  extends="Group" 
  xsi:noNamespaceSchemaLocation="https://devtools.web.roku.com/schema/RokuSceneGraph.xsd">

  <script type="text/brightscript" uri="SearchScreen.brs" />
  <script type="text/brightscript" uri="pkg:/source/Utils/i18nUtils.brs" />
  <script type="text/brightscript" uri="pkg:/source/Enums.brs" />
  <script type="text/brightscript" uri="pkg:/source/Utils.brs" />
  <script type="text/brightscript" uri="pkg:/source/Utils/RetryUtils.brs" />
  <script type="text/brightscript" uri="pkg:/source/Services/Programs.brs" />
  <script type="text/brightscript" uri="pkg:/source/Services/Retry.brs" />
  <script type="text/brightscript" uri="pkg:/source/Services/DomainManager.brs" />
  <script type="text/brightscript" uri="pkg:/source/Services/ErrorCode.brs" />
  <script type="text/brightscript" uri="pkg:/source/CarouselConstants.brs" />

  <script type="text/brightscript" uri="pkg:/source/StreamingConstants.brs" />
  <script type="text/brightscript" uri="pkg:/source/Storage.brs" />
  <script type="text/brightscript" uri="pkg:/source/Services/Watch.brs" />
  <script type="text/brightscript" uri="pkg:/source/Services/Streamings.brs" />

  <interface>
    <!-- Paramentros de Entrada -->
    <field id="loading" type="node" />
    <field id="onFocus" type="boolean" value="false" onChange="initFocus" />
    <field id="streaming" type="string" />
    <field id="detail" type="string" />
  </interface>

   <children>
    <TextEditBox
      id="searchInput" />

    <Timer id="searchDebounceTimer" repeat="false" duration="2" />

    <Group id="relatedContainer" visible="false">
      <Carousel id="related"/>
      <SelectionBox id="selectedIndicator" visible="false"/>
    </Group>

    <Group id="searchCarousels" visible="false" translation="[0, 135]">
      <Group id="carouselContainer" translation="[50, 20]"/>
      <SelectionBox id="searchSelectedIndicator" visible="false"/>
    </Group>

    <Label
      id="noResultsLabel"
      visible="false"
      horizAlign="center"
      font="font:MediumSystemFont" />

    <Rectangle
      id="searchKeyboardBackground"
      color="0x000000FF"
      opacity="0.0"
      visible="true" />

    <Keyboard
      id="searchKeyboard"
      visible="false" />

        <!-- Animaciones del teclado: entra desde abajo y sale hacia abajo -->
    <Animation
      id="keyboardShowAnimation"
      duration="0.25"
      repeat="false"
      easeFunction="linear"
      optional="true">
      <Vector2DFieldInterpolator
        id="keyboardShowTranslationInterpolator"
        fieldToInterp="searchKeyboard.translation"
        key="[0.0, 1.0]" />
      <Vector2DFieldInterpolator
        id="keyboardBackgroundShowTranslationInterpolator"
        fieldToInterp="searchKeyboardBackground.translation"
        key="[0.0, 1.0]" />
      <FloatFieldInterpolator
        fieldToInterp="searchKeyboardBackground.opacity"
        key="[0.0, 1.0]"
        keyValue="[0.0, 1.0]" />
      <FloatFieldInterpolator
        fieldToInterp="searchKeyboard.opacity"
        key="[0.0, 1.0]"
        keyValue="[0.0, 1.0]" />
    </Animation>

    <Animation
      id="keyboardHideAnimation"
      duration="0.2"
      repeat="false"
      easeFunction="linear"
      optional="true">
      <Vector2DFieldInterpolator
        id="keyboardHideTranslationInterpolator"
        fieldToInterp="searchKeyboard.translation"
        key="[0.0, 1.0]" />
      <Vector2DFieldInterpolator
        id="keyboardBackgroundHideTranslationInterpolator"
        fieldToInterp="searchKeyboardBackground.translation"
        key="[0.0, 1.0]" />
      <FloatFieldInterpolator
        fieldToInterp="searchKeyboardBackground.opacity"
        key="[0.0, 1.0]"
        keyValue="[1.0, 0.0]" />
      <FloatFieldInterpolator
        fieldToInterp="searchKeyboard.opacity"
        key="[0.0, 1.0]"
        keyValue="[1.0, 0.0]" />
    </Animation>
  </children>
</component>